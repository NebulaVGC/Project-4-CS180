import java.io.*;
import java.text.SimpleDateFormat;
import java.util.Calendar;
import java.util.Scanner;

public class Student {
    Scanner scan = new Scanner(System.in);
    private String userName;

    public Student(String userName) {
        this.userName = userName;
    }
    
    public Student() {
        
    }

    public void runQuiz(String filename, String userName) throws IOException {
        BufferedReader br = new BufferedReader(new FileReader(filename));
        File f = new File(userName + "_" + filename);
        BufferedWriter bw = new BufferedWriter(new FileWriter(f));
        String nextLine;
        String finalString = userName;
        while ((nextLine = br.readLine()) != null) {
            System.out.println(nextLine + "\n" + br.readLine() + "\n" +
                    br.readLine() + "\n" + br.readLine() + "\n" + br.readLine());
            String answer = scan.nextLine().toUpperCase();
            while (!answer.equals("A") && !answer.equals("B") && !answer.equals("C") && !answer.equals("D")) {
                System.out.println("INVALID ANSWER OPTION");
                System.out.println("Please try again:");
                answer = scan.nextLine().toUpperCase();
            }
            finalString = finalString + "\n" + answer;
            br.readLine();
        }
        String timeStamp = new SimpleDateFormat("MM/dd/yyyy_HH:mm:ss").format(Calendar.getInstance().getTime());
        finalString = finalString + "\n" + timeStamp;
        bw.write(finalString);
        bw.close();
        br.close();
    }
    
    public String pickOption(String filename) {
        String courseName = null;
        try {
            File course = new File(filename);
            FileReader frcourse = new FileReader(course);
            BufferedReader bfrCourse = new BufferedReader(frcourse);
            String line = bfrCourse.readLine();
            int counter = 0;
            while (line != null) {
                counter++;
                System.out.println(counter + ". " + line);
                line = bfrCourse.readLine();
            }
            int courseSelector = 0;
            do {
                System.out.println("Please select which quiz you would like to take?");
                courseSelector = scan.nextInt();
                scan.nextLine();
                if (courseSelector <= 0 || courseSelector > counter) {
                    System.out.println("Please enter a valid quiz id!");
                }
            } while (courseSelector <= 0 || courseSelector > counter);

            courseName = "";
            BufferedReader bfr = new BufferedReader(new FileReader(filename));
            for (int i = 0; i < courseSelector; i++) {
                courseName = bfr.readLine();
            }
            bfr.close();
            bfrCourse.close();
        } catch (IOException io) {
            io.printStackTrace();
        }
        return courseName;
    }
    
    
    public static void main(String[] args) {
        //takes place after login
        Scanner scan = new Scanner(System.in);
        try{
            Student student = new Student();
            student.pickOption(student.pickOption("Course"));
            

        } catch(Exception e){
            e.printStackTrace();
        }

        //pick course
        //directs us to course file
        //show quizzes
        //pick a quiz
        //gives us quiz name
        //run quiz (quiz name, username)
    }
}
